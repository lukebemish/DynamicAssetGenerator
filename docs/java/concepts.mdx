---
sidebar_position: 1
---

# General Concepts

Resources and data are provided through a `ResourceCache`; DynAssetGen has built in implementations of `ResourceCache` for 
generating assets and data. Resource caches have an identifier associated with them, and can be registered with `ResourceCache.register`. For instance, to register a data cache:

```java
public static final DataResourceCache DATA_CACHE =
    ResourceCache.register(new DataResourceCache(new ResourceLocation("my_mod", "data")));
```

`AssetResourceCache` is a similar built-in implementation for client resources.

Resource generation is structured around several core concepts:
* `ResourceGenerationContext`, an object which holds information about the current resource generation environment
* `IInputStreamSource`, an object which can take a target file resource location and a generation context, and supplies an
  `IoSupplier<InputStream>` which can be used to read the resource data, or null if no resource should be supplied.
* `IPathAwareInputStreamSource`, a `IInputStreamSource` which is aware of which locations it can provide data for.
* Reset listeners, callbacks which are invoked when a resource cache is reset. These should be used to invalidate any sort of
  caching

`ResourceCache` contains a number of methods for adding input stream sources; these methods all
internally delegate to the "lazy" method which accepts a `Supplier<? extends IPathAwareInputStreamSource>` and does not
evaluate it until resources are requested from the cache. This means that a `IPathAwareInputStreamSource` can safely access
existing resources or data both when generating resources and when determining which resources it can provide.

Resources and data from other sources (the base game, resource packs, other mods, etc.) can be accessed through
`ServerPrePackRepository` and `ClientPrePackRepository` respectively. Note that there are separate methods for getting a
single resource, such as a texture or model, and getting all resources with a given location, such as tags.
